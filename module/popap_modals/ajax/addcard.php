<?require_once($_SERVER['DOCUMENT_ROOT'] . "/bitrix/modules/main/include/prolog_before.php"); CModule::IncludeModule("sale");CModule::IncludeModule("catalog");// echo $_GET['id'];Add2BasketByProductID(  $_GET['id'],   $_GET['count']);if ($_GET['par']==1) {  LocalRedirect("/personal/cart/?basketAction=delay&id=4");  exit();  # code...}// Изменим количество товара в записи $ID корзины на 2 штуки и отложим товар   $arBasketItems = array();$dbBasketItems = CSaleBasket::GetList(        array(                "NAME" => "ASC",                "ID" => "ASC"            ),        array(                "FUSER_ID" => CSaleBasket::GetBasketUserID(),                "LID" => SITE_ID,                "ORDER_ID" => "NULL",                "DELAY" => "N",                "CAN_BUY" => "Y"            ),        false,        false,        array("ID", "CALLBACK_FUNC", "MODULE",               "PRODUCT_ID", "QUANTITY", "DELAY",               "CAN_BUY", "PRICE", "WEIGHT")    );while ($arItems = $dbBasketItems->Fetch()){    if (strlen($arItems["CALLBACK_FUNC"]) > 0)    {        CSaleBasket::UpdatePrice($arItems["ID"],                                  $arItems["CALLBACK_FUNC"],                                  $arItems["MODULE"],                                  $arItems["PRODUCT_ID"],                                  $arItems["QUANTITY"]);        $arItems = CSaleBasket::GetByID($arItems["ID"]);    }    $arBasketItems[] = $arItems;    // print_r($arItems);}// echo $ves;// CCatalogProduct::Update($PRODUCT_ID, $arFields);// $resp= CIBlockElement::GetList(Array(), array("IBLOCK_ID" => 5, "ID"=>$PRODUCT_ID));//   if($obs = $resp->GetNextElement()){//     $arProps = $obs->GetProperties();//     $arFields = $obs->GetFields();//     // print_r($arProps['CML2_TRAITS']['VALUE'][2]);//     $ves=$arProps['CML2_TRAITS']['VALUE'][2]*1000;//     update($PRODUCT_ID,$ves);// }// function update($id,$ves){//   Cmodule::IncludeModule('catalog');// $PRODUCT_ID = $id; // id товара// // вес// if ($ves==0) {//   $ves=1000;// }// $arFields = array('WEIGHT' => $ves);// CCatalogProduct::Update($PRODUCT_ID, $arFields);// }echo "В корзине ".count($arBasketItems)." товаров";   ?>  